(()=>{"use strict";var e={298:function(e,t,r){var i=r(44),l=r(133);r(190);var s=(0,l.XK)(`<div class=relative><input type=text placeholder=\u{641C}\u{7D22}\u{6269}\u{5C55}... class="w-full px-4 py-3 rounded-lg border border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"><button class="absolute right-2 top-1/2 -translate-y-1/2 bg-blue-600 text-white px-4 py-1 rounded-md hover:bg-blue-700 transition-colors">\u{641C}\u{7D22}`);let n=e=>{var t,r,n;return n=(r=(t=s()).firstChild).nextSibling,r.$$keydown=t=>{"Enter"===t.key&&e.onSearch()},r.$$input=t=>e.onInput(t.currentTarget.value),(0,l.Oo)(n,"click",e.onSearch,!0),(0,i.F3)(()=>r.value=e.query),t};(0,l.Qj)(["input","keydown","click"]);var a=(0,l.XK)('<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col gap-2 z-[9999]">'),o=(0,l.XK)("<div>");let u=(()=>{let[e,t]=(0,i.gQ)([]),r=e=>{t(t=>t.filter(t=>t!==e))};return{toasts:e,addToast:e=>{t(t=>[...t,e]),setTimeout(()=>{var t;r(e),null==(t=e.onClose)||t.call(e)},e.duration||3e3)},removeToast:r}})(),c=e=>{u.addToast(e)},d=()=>{var e;let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info";return({success:"bg-green-500",error:"bg-red-500",info:"bg-gray-500",warning:"bg-yellow-500"})[e]};return e=a(),(0,l.$T)(e,(0,i.LM)(i.U2,{get each(){return u.toasts()},children:e=>{var r;return(r=o()).$$click=()=>u.removeToast(e),(0,l.$T)(r,()=>e.message),(0,i.F3)(()=>(0,l.ok)(r,`
              min-w-[200px] px-6 py-3 rounded text-white text-sm text-center cursor-pointer
              animate-[fadeIn_0.3s_ease]
              ${t(e.type)}
            `)),r}})),e};(0,l.Qj)(["click"]);let p=e=>{if(!e.extensionName)return void c({message:"未获取扩展名称"});if(!e.publisherName)return void c({message:"未获取扩展作者"});if(!e.version)return void c({message:"未获取扩展版本"});let t=`https://marketplace.visualstudio.com/_apis/public/gallery/publishers/${e.publisherName}/vsextensions/${e.extensionName}/${e.version}/vspackage`;e.targetPlatform&&(t+=`?targetPlatform=${e.targetPlatform}`);let r=document.createElement("a");r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)},[g,v]=(0,i.gQ)(!1),[f,x]=(0,i.gQ)(null);var h=(0,l.XK)(`<span class=text-yellow-500>\u{2605}`),m=(0,l.XK)(`<span class="relative inline-block w-[1em]"><span class="absolute inset-0 overflow-hidden"><span class=text-yellow-500>\u{2605}</span></span><span class=text-gray-300>\u{2605}`),b=(0,l.XK)(`<span class=text-gray-300>\u{2605}`),y=(0,l.XK)(`<div class="p-4 flex flex-col bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow"><div class="bg-gray-200 py-7px text-center border-2 border-dashed rounded-xl overflow-hidden"><img class=h-72px alt></div><div class="ml-4 flex-1"><h3 class="font-semibold text-lg"></h3><div class="flex items-center justify-between"><p class="flex-1 text-gray-500 text-sm"></p><button class="bg-blue-600 text-white py-8px rounded-md hover:bg-blue-700 transition-colors">\u{4E0B}\u{8F7D}</button></div><div class="relative group"><a class="inline-block underline underline-offset-4 float-right hover:text-blue-500 transition-colors cursor-pointer">\u{5386}\u{53F2}\u{7248}\u{672C}</a></div></div><p class="text-gray-600 text-sm line-clamp-2"></p><div class="mt-3 flex items-center justify-between"><span class="text-yellow-500 flex items-center"></span><span class="text-sm text-gray-500"> \u{6B21}\u{4E0B}\u{8F7D}`);let w=e=>{var t,r,s,n,a,o,u,c,d,g,w,$,k,C,T;let S=t=>{if(x({publisherName:t.publisher.publisherName,extensionName:t.extensionName,version:t.versions[0].version}),t.versions.length>1){e.setCurrentItem(t),x({...f(),targetPlatform:"win32-x64"}),v(!0);return}p(f())},j=()=>{e.setCurrentItem(e.item),x({publisherName:e.item.publisher.publisherName,extensionName:e.item.extensionName}),e.setIsOpen(!0)},E=null==(t=e.item.statistics)?void 0:t.find(e=>"install"===e.statisticName),O=(r=(null==E?void 0:E.value)||0)>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toString(),X=(()=>{if(!("statistics"in e.item))return 0;let t=e.item.statistics.find(e=>"weightedRating"===e.statisticName);return t?Math.ceil(2*parseFloat(t.value.toString()))/2:0})();return a=(n=(s=y()).firstChild).firstChild,g=(d=(c=(u=(o=n.nextSibling).firstChild).nextSibling).firstChild).nextSibling,w=c.nextSibling.firstChild,T=(C=(k=($=o.nextSibling).nextSibling.firstChild).nextSibling).firstChild,(0,l.$T)(u,()=>e.item.displayName),(0,l.$T)(d,()=>e.item.publisher.displayName),g.$$click=()=>S(e.item),w.$$click=()=>j(),(0,l.$T)($,()=>e.item.shortDescription),(0,l.$T)(k,()=>{let e=[];for(let t=1;t<=5;t++)X>=t?e.push(h()):X>=t-.5?e.push((()=>{var e=m();return e.firstChild.style.setProperty("width","50%"),e})()):e.push(b());return e}),(0,l.$T)(C,O,T),(0,i.F3)(()=>{var t;return(0,l.P$)(a,"src",(null==(t=e.item.versions[0].files[1])?void 0:t.source)||"https://marketplace.visualstudio.com/_static/tfs/M257_20250527.11/_content/Header/default_icon.png")}),s};(0,l.Qj)(["click"]);var $=(0,l.XK)(`<div class="flex items-center justify-between gap-4"><div class="flex items-center justify-center gap-8px py-4"><button class="flex items-center justify-center w-24px h-16px rounded-8px"title=\u{7B2C}\u{4E00}\u{9875}>&laquo;</button><button class="flex items-center justify-center w-24px h-16px rounded-8px"title=\u{4E0A}\u{4E00}\u{9875}>&lt;</button><button class="flex items-center justify-center w-24px h-16px rounded-8px"title=\u{4E0B}\u{4E00}\u{9875}>&gt;</button><button class="flex items-center justify-center w-24px h-16px rounded-8px"title=\u{6700}\u{540E}\u{4E00}\u{9875}>&raquo;`),k=(0,l.XK)('<span class="flex items-center justify-center w-24px h-16px rounded-8px">'),C=(0,l.XK)('<button class="flex items-center justify-center w-24px h-16px rounded-8px">');let T=e=>{var t,r,s,n,a,o;let[u,c]=(0,i.gQ)(1);console.log("items",e.itemCount);let d=()=>Math.ceil(e.itemCount/15);console.log("总页数",d());let p=()=>{let e=[],t=Math.max(1,u()-2),r=Math.min(d(),u()+2);for(let i=t;i<=r;i++)e.push(i);return e},g=t=>{t>=1&&t<=d()&&c(t),e.onPageChange(t)};return o=(a=(n=(s=(r=(t=$()).firstChild).firstChild).nextSibling).nextSibling).nextSibling,s.$$click=()=>g(1),n.$$click=()=>g(u()-1),(0,l.$T)(r,()=>p().map(e=>{var t,r;return e===u()?(t=k(),(0,l.$T)(t,e),t):((r=C()).$$click=()=>g(e),(0,l.$T)(r,e),r)}),a),a.$$click=()=>g(u()+1),o.$$click=()=>g(d()),(0,i.F3)(e=>{var t=1===u(),r=1===u(),i=u()===d(),l=u()===d();return t!==e.e&&(s.disabled=e.e=t),r!==e.t&&(n.disabled=e.t=r),i!==e.a&&(a.disabled=e.a=i),l!==e.o&&(o.disabled=e.o=l),e},{e:void 0,t:void 0,a:void 0,o:void 0}),t};(0,l.Qj)(["click"]);var S=(0,l.XK)('<select class="w-full p-8px">'),j=(0,l.XK)(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl w-full max-w-md"><div class="flex justify-between items-center p-4 border-b"><h3 class="text-lg font-semibold">\u{8BF7}\u{9009}\u{62E9}\u{7248}\u{672C}</h3><button class="text-gray-500 hover:text-gray-700">\u{2715}</button></div><div class="relative p-4 grid gap-2"><div class="flex items-center border rounded"><input type=text placeholder=\u{641C}\u{7D22}\u{6216}\u{9009}\u{62E9}... class="flex-1 p-2 outline-none"><button class="h-36px px-2 text-gray-500">\u{4E0B}\u{8F7D}</button></div><div></div></div><div class="flex justify-end p-4 border-t gap-2"><button class="px-4 py-2 border rounded hover:bg-gray-50">\u{53D6}\u{6D88}</button><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">\u{5173}\u{95ED}`),E=(0,l.XK)('<div class="p-2 hover:bg-gray-100 cursor-pointer">'),O=(0,l.XK)(`<div class="p-2 text-gray-500">\u{65E0}\u{5339}\u{914D}\u{7ED3}\u{679C}`),X=(0,l.XK)("<option class=p-2>");async function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"WallabyJs.console-ninja";try{let t=await fetch("https://marketplace.visualstudio.com/_apis/public/gallery/extensionquery",{method:"POST",headers:{accept:"application/json;api-version=7.2-preview.1;excludeUrls=true","Content-Type":"application/json"},body:JSON.stringify({assetTypes:null,filters:[{criteria:[{filterType:7,value:e}],direction:2,pageSize:100,pageNumber:1,sortBy:0,sortOrder:0,pagingToken:null}],flags:2151})}),r=await t.json(),i=new Set;return r.results[0].extensions[0].versions.forEach(e=>{i.has(e.version)||i.add(e.version)}),Array.from(i)}catch(e){throw console.error("Error:",e),e}}function F(e){let[t,r]=(0,i.gQ)(""),[s,n]=(0,i.gQ)(""),[a,o]=(0,i.gQ)(!0),[u,c]=(0,i.gQ)([]),d=()=>{r(""),n(""),e.setIsOpen(!1)},g=()=>{var e;(null==(e=f())?void 0:e.version)?p(f()):alert("请选择一个版本进行下载")};(0,i.GW)(()=>{e.isOpen&&(M(`${e.item.publisher.publisherName}.${e.item.extensionName}`).then(e=>{c(e)}),o(!0))});let v=()=>t()?u().filter(e=>e.toLowerCase().includes(t().toLowerCase())):u();return(0,i.LM)(i.di,{get when(){return e.isOpen},get children(){var h,m=j(),b=m.firstChild.firstChild,y=b.firstChild.nextSibling,w=b.nextSibling,$=w.firstChild,k=$.firstChild,C=k.nextSibling,T=$.nextSibling,F=w.nextSibling.firstChild,K=F.nextSibling;return y.$$click=d,k.$$click=()=>o(!a()),k.$$input=e=>{r(e.currentTarget.value),n(e.currentTarget.value),o(!0)},C.$$click=()=>{x({...f(),version:s()}),g()},(0,l.$T)(T,(h=(0,l.X$)(()=>v().length>0),()=>h()?v().map(e=>{var t;return(t=E()).$$click=()=>{n(e),r(""),o(!1)},(0,l.$T)(t,e),t}):O())),(0,l.$T)(w,(0,i.LM)(i.di,{get when(){return e.item.versions.length>1},get children(){var N=S();return N.addEventListener("change",e=>{x({...f(),targetPlatform:e.target.value})}),(0,l.$T)(N,()=>{var t;return null==(t=e.item)?void 0:t.versions.map(e=>{var t;return t=X(),(0,l.$T)(t,()=>e.targetPlatform),(0,i.F3)(()=>t.value=e.targetPlatform),t})}),(0,i.F3)(()=>{var e;return N.value=null==(e=f())?void 0:e.targetPlatform}),N}}),null),F.$$click=d,K.$$click=d,(0,i.F3)(()=>(0,l.ok)(T,`${a()?"":"hidden"} mt-1 w-full bg-white border rounded shadow-lg max-h-60 overflow-auto`)),(0,i.F3)(()=>k.value=s()),m}})}(0,l.Qj)(["click","input"]);var K=(0,l.XK)('<div class="mb-4 text-lg font-bold border-b-2 border-black/25">'),N=(0,l.XK)(`<div class="fixed inset-0 z-50 flex items-center justify-center overflow-y-auto"><div class="fixed inset-0 bg-black/50 backdrop-blur-sm"></div><div class="relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl"><div class=relative></div><button class="absolute right-4 top-4 text-gray-400 hover:text-gray-600"><svg class="h-5 w-5"aria-label=\u{5173}\u{95ED}\u{5BF9}\u{8BDD}\u{6846} fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">`);let Q=e=>{let t=t=>{t.target===t.currentTarget&&e.onClose()};return(0,i.LM)(i.di,{get when(){return e.isOpen},get children(){return(0,i.LM)(l.h_,{get children(){var r=N(),s=r.firstChild.nextSibling,n=s.firstChild,a=n.nextSibling;return r.$$pointerdown=t,(0,l.$T)(s,(0,i.LM)(i.di,{get when(){return e.title},get children(){var o=K();return(0,l.$T)(o,()=>e.title),o}}),n),(0,l.$T)(n,()=>e.children),(0,l.Oo)(a,"click",e.onClose,!0),r}})}})};(0,l.Qj)(["pointerdown","click"]);var D=(0,l.XK)(`<div class="flex justify-center gap-12px"><select class="w-50% p-8px"></select><button class="bg-blue-600 text-white py-8px rounded-md hover:bg-blue-700 transition-colors">\u{4E0B}\u{8F7D}`),P=(0,l.XK)(`<div class="min-h-screen flex flex-col bg-gray-50"><header class="bg-white shadow-sm py-4 px-6 flex justify-between items-center"><div class="flex space-x-4"></div></header><main class="flex-1 flex flex-col items-center justify-center px-4 py-12"><div class="w-full max-w-2xl transition-all duration-300"></div></main><footer class="bg-white py-6 px-4 border-t border-gray-200"><div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center"><div class="text-gray-500 text-sm">\xa9 2025 vscode\u{63D2}\u{4EF6}\u{5728}\u{7EBF}\u{4E0B}\u{8F7D}.</div><div class="mt-4 md:mt-0"><a href=mailto:dreamsoul23@qq.com class="text-blue-600 hover:text-blue-800">dreamsoul23@qq.com`),L=(0,l.XK)('<a target=_blank class="text-blue-600 hover:text-blue-800 transition-colors">'),B=(0,l.XK)(`<div class="text-sm text-gray-500">\u{641C}\u{7D22}\u{4E2D}...`),I=(0,l.XK)('<div class="w-full max-w-4xl mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">'),_=(0,l.XK)("<div class=mt-8>"),q=(0,l.XK)("<option class=p-2>");function z(){var e,t,r,s,a,o,u,c;let[h,m]=(0,i.gQ)(""),[b,y]=(0,i.gQ)(0),[$,k]=(0,i.gQ)("Microsoft.VisualStudio.Code"),[C,S]=(0,i.gQ)(!1),[j,E]=(0,i.gQ)([]),[O,X]=(0,i.gQ)(!1),[M,K]=(0,i.gQ)(null),N=[{name:"GitHub",url:"https://github.com/OldSaltFish/vscode-extension-downloader"}],z=async e=>{let t=e instanceof Event||void 0===e?1:e;if(h()){S(!0);try{let e=await fetch("https://marketplace.visualstudio.com/_apis/public/gallery/extensionquery",{method:"POST",headers:{authority:"marketplace.visualstudio.com","content-type":"application/json","x-requested-with":"XMLHttpRequest"},body:JSON.stringify({assetTypes:["Microsoft.VisualStudio.Services.Icons.Default","Microsoft.VisualStudio.Services.Icons.Branding","Microsoft.VisualStudio.Services.Icons.Small"],filters:[{criteria:[{filterType:8,value:$()},{filterType:10,value:h()},{filterType:12,value:"37888"}],direction:2,pageSize:15,pageNumber:t,sortBy:0,sortOrder:0,pagingToken:null}],flags:870})}),r=await e.json();E(r.results[0].extensions||[]),y(r.results[0].resultMetadata[0].metadataItems[0].count)}catch(e){console.error("搜索失败:",e),E([])}finally{S(!1),scrollTo(0,0)}}};return r=(t=(e=P()).firstChild).firstChild,a=(s=t.nextSibling).firstChild,s.nextSibling,(0,l.$T)(r,()=>N.map(e=>{var t;return t=L(),(0,l.$T)(t,()=>e.name),(0,i.F3)(()=>(0,l.P$)(t,"href",e.url)),t})),(0,l.$T)(t,(o=(0,l.X$)(()=>!!C()),()=>o()&&B()),null),(0,l.$T)(a,(0,i.LM)(n,{get query(){return h()},onInput:m,onSearch:z})),(0,l.$T)(s,(u=(0,l.X$)(()=>j().length>0),()=>{var e;return u()&&(e=I(),(0,l.$T)(e,(0,i.LM)(i.U2,{get each(){return j()},children:e=>(0,i.LM)(w,{item:e,setCurrentItem:K,setIsOpen:X})})),e)}),null),(0,l.$T)(s,(c=(0,l.X$)(()=>j().length>0),()=>{var e;return c()&&(e=_(),(0,l.$T)(e,(0,i.LM)(T,{get itemCount(){return b()},onPageChange:z})),e)}),null),(0,l.$T)(e,(0,i.LM)(F,{get item(){return M()},get isOpen(){return O()},setIsOpen:X}),null),(0,l.$T)(e,(0,i.LM)(Q,{title:"选择架构",get isOpen(){return g()},onClose:()=>v(!1),get children(){var V=D(),H=V.firstChild,J=H.nextSibling;return H.addEventListener("change",e=>{x({...f(),targetPlatform:e.target.value}),console.log("target",f()),p(f()),v(!1)}),(0,l.$T)(H,()=>{var e;return null==(e=M())?void 0:e.versions.map(e=>{var t;return t=q(),(0,l.$T)(t,()=>e.targetPlatform),(0,i.F3)(()=>t.value=e.targetPlatform),t})}),J.$$click=()=>{p(f()),v(!1)},(0,i.F3)(()=>{var e;return H.value=null==(e=f())?void 0:e.targetPlatform}),V}}),null),(0,l.$T)(e,(0,i.LM)(d,{}),null),e}(0,l.Qj)(["click"]),(0,l.sY)(()=>(0,i.LM)(z,{}),document.getElementById("root"))}},t={};function r(i){var l=t[i];if(void 0!==l)return l.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.m=e,r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];r.O=(t,i,l,s)=>{if(i){s=s||0;for(var n=e.length;n>0&&e[n-1][2]>s;n--)e[n]=e[n-1];e[n]=[i,l,s];return}for(var a=1/0,n=0;n<e.length;n++){for(var[i,l,s]=e[n],o=!0,u=0;u<i.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every(e=>r.O[e](i[u]))?i.splice(u--,1):(o=!1,s<a&&(a=s));if(o){e.splice(n--,1);var c=l();void 0!==c&&(t=c)}}return t}})(),r.rv=()=>"1.3.12",(()=>{var e={980:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var l,s,[n,a,o]=i,u=0;if(n.some(t=>0!==e[t])){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(o)var c=o(r)}for(t&&t(i);u<n.length;u++)s=n[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},i=self.webpackChunkvsc_extension_downloader=self.webpackChunkvsc_extension_downloader||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),r.ruid="bundler=rspack@1.3.12";var i=r.O(void 0,["171"],function(){return r(298)});i=r.O(i)})();